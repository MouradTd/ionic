<div class="flex-grow-1 container-fluid mt-3" v-if="student">
  <div class="d-flex align-items-center justify-content-between mb-4">
    <h5 class="py-3 mb-4 fw-medium text-muted">
      Profile / <span class="text-dark"> {{student.first_name +' '+ student.last_name}}</span>
    </h5>
    <div>
      <button
        class="btn btn-warning"
        data-bs-target="#edit-stg"
        data-bs-toggle="modal"
      >
        <i class="ti ti-pencil me-2"></i>
        Modifier
      </button>
    </div>
  </div>
  <div class="row">
    <div class="col-xl-4 col-lg-5 col-md-5 order-1 order-md-0">
      <div class="card card-border-shadow-primary mb-4">
        <div class="card-body">
          <div class="user-avatar-section border-bottom pb-4">
            <div class="d-flex align-items-center flex-column">
              <img
                class="img-fluid rounded mb-3 pt-1 mt-4"
                src="../../assets/img/avatars/user_avatar.png"
                height="100"
                width="100"
                alt="User avatar"
              />
              <div class="user-info text-center">
                <h4 class="mb-2"> {{student.first_name +' '+ student.last_name}}</h4>
                
              </div>
            </div>
          </div>
          <p class="mt-4 small text-uppercase text-muted">À PROPOS</p>
          <div class="info-container">
            <ul class="list-unstyled">
              <li class="mb-2">
                <span class="fw-medium me-1">Nom complet:</span>
                <span> {{student.first_name +' '+ student.last_name}}</span>
              </li>

              <li class="mb-2 pt-1">
                <span class="fw-medium me-1">Poste:</span>
                <span> {{student.type }}</span>
              </li>
              <li class="mb-2 pt-1">
                <span class="fw-medium me-1">CIN:</span>
                <span>{{student.cin }}</span>
              </li>
            </ul>
          </div>
          
          <p class="mt-4 small text-uppercase text-muted">CONTACT</p>
          <div class="info-container">
            <ul class="list-unstyled">
              <li class="mb-2">
                <span class="fw-medium me-1">Adresse email:</span>
                <span>{{student.email }}</span>
              </li>

              <li class="mb-2 pt-1">
                <span class="fw-medium me-1">Numéro de téléphone:</span>
                <span>{{student.phone_no }}</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xl-8 col-lg-7 col-md-7">
      <ul class="nav nav-pills mb-3 nav-fill" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            type="button"
            class="nav-link active"
            role="tab"
            data-bs-toggle="tab"
            data-bs-target="#student_dossier"
            aria-controls="student"
            aria-selected="true"
          >
            Dossier de l'etudiant
          </button>
        </li>
      </ul>
      <div
        class="tab-content p-0"
        style="background-color: transparent; !important"
      >
        <div
          id="student_dossier"
          class="tab-pane fade show active bg-none"
          style="background-color: transparent; !important"
          role="tabpanel"
        >
          <div class="row mb-3">
            <!-- <div class="col-xxl-6">
                          <div class="card card-border-shadow-info">
                              <div class="card-body">
                                  <div class="d-flex align-items-center mb-2 pb-1">
                                      <div class="me-2">
                                          <img src="@/assets/img/contract.jpg" height="89px" width="100px"
                                              style="object-fit: contain" />
                                      </div>
                                      
                                  </div>
                                  <h6 class="mb-1 fw-bold text-dark">
                                      Copie Attestation de stage 
                                  </h6>

                                  <div  class="card mt-4 border shadow-none">
                                      <div class="card-body p-2">
                                          <a  target="_blank" class="d-flex align-items-center">
                                              <div class="p-1 rounded bg-label-info">
                                                  <i class="ti ti-file-download text-info ps-3 pe-3"></i>
                                              </div>
                                              <small class="ms-3">
                                                  Télécharger l'attachement
                                              </small>
                                          </a>
                                      </div>
                                  </div>
                                  <div  class="card mt-4 border shadow-none">
                                      <div class="card-body p-2 d-flex align-items-center">
                                          <p class="text-center m-1 text-muted">
                                              <i class="ti ti-file me-2"></i>
                                              Aucun copie d'attestation trouvé
                                          </p>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                      <div class="col-xxl-6">
                          <div class="card card-border-shadow-info">
                              <div class="card-body">
                                  <div class="d-flex align-items-center mb-2 pb-1">
                                      <div class="me-2">
                                          <img src="@/assets/img/contract.jpg" height="89px" width="100px"
                                              style="object-fit: contain" />
                                      </div>
                                      
                                  </div>
                                  <h6 class="mb-1 fw-bold text-dark">
                                      Copie CIN 
                                  </h6>

                                  <div class="card mt-4 border shadow-none">
                                      <div class="card-body p-2">
                                          <a  target="_blank" class="d-flex align-items-center">
                                              <div class="p-1 rounded bg-label-info">
                                                  <i class="ti ti-file-download text-info ps-3 pe-3"></i>
                                              </div>
                                              <small class="ms-3">
                                                  Télécharger l'attachement
                                              </small>
                                          </a>
                                      </div>
                                  </div>
                                  <div  class="card mt-4 border shadow-none">
                                      <div class="card-body p-2 d-flex align-items-center">
                                          <p class="text-center m-1 text-muted">
                                              <i class="ti ti-file me-2"></i>
                                              Aucun copie cin trouvé
                                          </p>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                      <div class="col-xxl-6 mt-3">
                          <div class="card card-border-shadow-info">
                              <div class="card-body">
                                  <div class="d-flex align-items-center mb-2 pb-1">
                                      <div class="me-2">
                                          <img src="@/assets/img/contract.jpg" height="89px" width="100px"
                                              style="object-fit: contain" />
                                      </div>
                                      
                                  </div>
                                  <h6 class="mb-1 fw-bold text-dark">
                                      Copie Diplome 
                                  </h6>

                                  <div  class="card mt-4 border shadow-none">
                                      <div class="card-body p-2">
                                          <a target="_blank" class="d-flex align-items-center">
                                              <div class="p-1 rounded bg-label-info">
                                                  <i class="ti ti-file-download text-info ps-3 pe-3"></i>
                                              </div>
                                              <small class="ms-3">
                                                  Télécharger l'attachement
                                              </small>
                                          </a>
                                      </div>
                                  </div>
                                  <div  class="card mt-4 border shadow-none">
                                      <div class="card-body p-2 d-flex align-items-center">
                                          <p class="text-center m-1 text-muted">
                                              <i class="ti ti-file me-2"></i>
                                              Aucun copie diplome trouvé
                                          </p>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                      
                      <div class="col-xxl-6 mt-3">
                          <div class="card card-border-shadow-info">
                              <div class="card-body">
                                  <div class="d-flex align-items-center mb-2 pb-1">
                                      <div class="me-2" >
                                          <img src="@/assets/img/contract.jpg" height="89px" width="100px"
                                              style="object-fit: contain;" />
                                      </div>
                                      
                                  </div>
                                  <h6 class="mb-1 fw-bold text-dark">
                                      Copie Contrat  
                                  </h6>

                                  <div  class="card mt-4 border shadow-none">
                                      <div class="card-body p-2">
                                          <a target="_blank" class="d-flex align-items-center">
                                              <div class="p-1 rounded bg-label-info">
                                                  <i class="ti ti-file-download text-info ps-3 pe-3"></i>
                                              </div>
                                              <small class="ms-3">
                                                  Télécharger la copie
                                              </small>
                                          </a>
                                      </div>
                                  </div>
                                  <div  class="card mt-4 border shadow-none">
                                      <div class="card-body p-2 d-flex align-items-center">
                                          <p class="text-center m-1 text-muted">
                                              <i class="ti ti-file me-2"></i>
                                              Aucun Copie de Contrat trouvé
                                          </p>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div> -->
            <div class="col-xxl-12">
                <div class="card card-border-shadow-info">
                    <div class="card-body">
              <table class="table">
                <thead class="table-light">
                  <tr>
                    <th>Date</th>
                    <th>Seance</th>
                    <th>Motif Attach</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody *ngIf="student.absences && student.absences.length > 0; else noData">
                  <tr *ngFor="let item of student.absences">
                    <td>{{item.date}}</td>
                    <td>{{item.seance.nom}}</td>
                    <td>
                      
                      
                      <a *ngIf="item.motif; else noAttachment" class="btn btn-label-primary btn-sm" target="_blank" [href]="getFileUrl(item.motif)">
                        <i class="ti ti-download me-2"></i> Télécharger l'attachement
                      </a>

                      <ng-template #noAttachment>
                        <small>Aucun Attachement</small>
                      </ng-template>
                    </td>
                    <td *ngIf="item.motif ===''">
                      <button class="btn bg-label-warning" (click)="openModal(item.id)">
                        <i class="ti ti-pencil me-2"></i>
                        Modifier
                      </button>
                    </td>
                  </tr>
                </tbody>

                <ng-template #noData>
                  <tbody>
                    <tr>
                      <td colspan="2" class="text-center">Aucune données a afficher</td>
                    </tr>
                  </tbody>
                </ng-template>
              </table>
                    </div>
                </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
